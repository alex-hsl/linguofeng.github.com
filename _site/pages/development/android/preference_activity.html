<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<meta http-equiv="pragma" content="no-cache" />
		<meta http-equiv="cache-control" content="no-cache" />
		<meta http-equiv="expires" content="0" />
		<title>Android - PreferenceActivity - 林国锋的代码库</title>
		<meta name="keywords" content="java" />
		<meta name="description" content="这里是林国锋的开发代码库，用来收集工作学习中常用的代码。" />
		<!-- link href='http://fonts.googleapis.com/css?family=Mate+SC' rel='stylesheet' type='text/css' -->
		<link rel="stylesheet" type="text/css" href="/assets/style.css" />
		<!-- link rel="stylesheet" type="text/css" href="/assets/syntax-default.css" / -->
		<link rel="stylesheet" type="text/css" href="/assets/ui.totop.css" />
		<script type="text/javascript" src="/assets/jquery.min.js"></script>
		<script type="text/javascript" src="/assets/waypoints.min.js"></script>
		<script type="text/javascript" src="/assets/jquery.ui.totop.js"></script>
		<script type="text/javascript" src="/assets/common.js"></script>
		
		<!-- SyntaxHighlighter -->
	    <link type="text/css" rel="stylesheet" href="http://www.linguofeng.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/styles/shCore.css"/>
	    <link type="text/css" rel="stylesheet" href="http://www.linguofeng.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/styles/shThemeDefault.css"/>
		<script type="text/javascript" src="http://www.linguofeng.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shCore.js"></script>
	    <script type="text/javascript" src="http://www.linguofeng.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushJava.js"></script>
	    <script type="text/javascript" src="http://www.linguofeng.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/shBrushXml.js"></script>
	    <script type="text/javascript">
	        SyntaxHighlighter.config.clipboardSwf = 'http://www.linguofeng.com/wp-content/plugins/syntax-highlighter-and-code-prettifier/scripts/clipboard.swf';
	        SyntaxHighlighter.all();
	    </script>
	    <style type="text/css">
		    .syntaxhighlighter {
			    width: 750px !important;
			    overflow: hidden !important;
			    margin-left: 40px !important;
			}
	    </style>
	</head>

	<body>
		<div id="container">
		
			<div id="sidebar">
				<div id="menu-nav">
					<div id="logo"><a href="/">Library</a></div>
					
					<ul>
						<li>Development
							<ul>
								<li><a href="/pages/development/android.html">Android</a></li>
								<li><a href="/pages/development/java.html">Java</a></li>
								<li><a href="/pages/development/javascript.html">JavaScript</a></li>
								<li><a href="/pages/development/jquery.html">jQuery</a></li>
							</ul>
						</li>
						
					</ul>
					
					<ul>
						<li>Links
							<ul>
								<li><a href="http://www.linguofeng.com">Blog</a></li>
							</ul>
						</li>
					</ul>
					
					<ul class="misc">
						<li>Powered by <a href="http://pages.github.com/">github-pages</a></li>
					</ul>
				</div>
			</div>
			
			<div id="content">
				<h1>Android &#8211; PreferenceActivity</h1>
<ul>
	<li><strong>一、继承PreferenceActivity</strong></li>
</ul>
<pre class="brush: java">
public class SettingActivity extends PreferenceActivity{
    public void onCreate(...){
        addPreferencesFromResource(R.xml.preference);
    }
}
</pre>
<ul>
	<li><strong>二、资源文件preference.xml</strong></li>
</ul>
<pre class="brush: xml">
&lt;PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;PreferenceCategory android:title="分组1"&gt;
        &lt;CheckBoxPreference
                android:key="唯一标识（MAP中的KEY）"
                android:title="标题"
                android:summary="概要" /&gt;
    &lt;/PreferenceCategory&gt;
&lt;/PreferenceScreen&gt;
</pre>
<ul>
	<li><strong>三、在其它Activity使用该配置信息</strong></li>
</ul>
<pre class="brush: java">
SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(this);
sp.getString("key1", "默认值");
sp.getInt("key2", 0);
</pre>
<p>更多参数访问 <a href="http://developer.android.com/reference/android/preference/PreferenceActivity.html">http://developer.android.com/reference/android/preference/PreferenceActivity.html</a></p>
			</div>
			
		</div>
	</body>
</html>